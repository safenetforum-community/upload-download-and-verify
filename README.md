# Upload-Download Scripts

Scripts for uploading files to the ANT network and downloading/verifying them with cost tracking and MD5 verification.

## Files

- `upload.sh` - Upload files to ANT network with cost and time analysis
- `download_and_verify.sh` - Download files from ANT network and verify MD5 checksums
- `uploads.txt` - Log file containing download commands (auto-generated by upload.sh)

## Quick Start - Run from GitHub

You can run the scripts directly from GitHub without cloning the repository:

### Download and Verify Script

Run the download and verify script directly from GitHub (downloads uploads.txt and runs script):

```bash
curl -s https://raw.githubusercontent.com/safenetforum-community/upload-download-and-verify/refs/heads/main/uploads.txt -o uploads.txt && bash <(curl -s https://raw.githubusercontent.com/safenetforum-community/upload-download-and-verify/refs/heads/main/download_and_verify.sh)
```

**Note:** This command will overwrite any existing `uploads.txt` file in the current directory without warning.

## Installation

### Install upload.sh to PATH

1. Make the script executable:
```bash
chmod +x upload.sh
```

2. Copy to a directory in your PATH (e.g., `/usr/local/bin` or `~/bin`):
```bash
# Option 1: System-wide installation (requires sudo)
sudo cp upload.sh /usr/local/bin/upload

# Option 2: User installation (create ~/bin if it doesn't exist)
mkdir -p ~/bin
cp upload.sh ~/bin/upload
export PATH="$HOME/bin:$PATH"  # Add to ~/.bashrc or ~/.zshrc for persistence
```

3. Verify installation:
```bash
which upload
upload --help  # or check usage
```

## Configuration

Before using `upload.sh`, edit the script and set your wallet address:

```bash
WALLET_ADDRESS="0x123..."
```

## Usage

### Upload Files

Upload a file and get cost analysis:

```bash
upload.sh <filename>
# or if installed to PATH:
upload <filename>
```

The script will:
- Upload the file to ANT network
- Calculate ANT token cost and gas cost (ETH)
- Convert costs to USD
- Display upload duration
- Save download command to `uploads.txt`

Example output:
```
üìÅ File: example.txt
üìè Size: 4.0K
üîê MD5: 432fe52762fc235f4d9781b53fac8c30

üí∞ Cost Analysis:
  ANT Cost: 0.0001 ANT ($0.01)
  Gas Cost: 0.00001 ETH ($0.01)
  Total USD Cost: $0.02

üì• Download Command:
ant file download --retries 20 <hash> example.txt  # 00h 00m 22s md5sum <md5>  4.0K $0.02 17/11/25
```

### Download and Verify Files

Download and verify files from `uploads.txt`:

```bash
./download_and_verify.sh
```

The script will:
- Load download commands from `uploads.txt`
- Download each file
- Verify MD5 checksums
- Display summary table with:
  - Filename, MD5 checksums, verification status
  - File size (GB/MB/KB)
  - Download time
  - Age since upload (years and days)
- Delete files after verification (to save disk space)

## Requirements

- `ant` CLI tool installed and configured
- `bash` shell
- `bc` or `awk` for calculations
- `curl` for fetching token prices
- `md5sum` for checksum verification

## Notes

- Upload commands are automatically appended to `uploads.txt`
- The download script processes files sequentially
- Files are deleted after verification to save disk space
- Press Ctrl+C to gracefully interrupt the download process

